webpackJsonp([4],{101:function(n,e){},102:function(n,e){n.exports={render:function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("div",{staticClass:"layout",class:{"layout-hide-text":n.spanLeft<3}},[o("Row",{attrs:{type:"flex"}},[o("Col",{staticClass:"layout-menu-left",attrs:{span:n.spanLeft}},[o("Menu",{attrs:{"active-name":"1",theme:"light",width:"auto"},on:{"on-select":n.gotoNavigation}},[o("div",{staticClass:"layout-logo-left"}),n._v(" "),o("MenuItem",{style:{display:n.pageMenu.kylinQuery},attrs:{name:"1"}},[o("Icon",{attrs:{type:"ios-navigate",size:n.iconSize}}),n._v(" "),o("span",{staticClass:"layout-text"},[n._v("kylin")])],1),n._v(" "),o("MenuItem",{style:{display:n.pageMenu.kylinConfig},attrs:{name:"2"}},[o("Icon",{attrs:{type:"ios-analytics",size:n.iconSize}}),n._v(" "),o("span",{staticClass:"layout-text"},[n._v("kylin配置")])],1)],1)],1),n._v(" "),o("Col",{attrs:{span:n.spanRight}},[o("div",{staticClass:"layout-header"},[o("Button",{attrs:{type:"text"},on:{click:n.toggleClick}},[o("Icon",{attrs:{type:"navicon",size:"32"}})],1),n._v(" "),o("div",{staticClass:"logout",on:{click:n.logout}},[o("span",[n._v("登出")])])],1),n._v(" "),o("div",{staticClass:"layout-breadcrumb"},[o("Breadcrumb",[o("BreadcrumbItem",{attrs:{href:"/"}},[n._v("首页")]),n._v(" "),"kylin"===n.breadcrumbTip?o("span",[o("BreadcrumbItem",{attrs:{href:"kylin"}},[n._v("kylin查询")])],1):n._e(),n._v(" "),"kylinConfig"===n.breadcrumbTip?o("span",[o("BreadcrumbItem",{attrs:{href:"kylinConfig"}},[n._v("麒麟数据配置")])],1):n._e()],1)],1),n._v(" "),o("div",{staticClass:"layout-content"},[o("div",{staticClass:"layout-content-main",attrs:{id:"app"}},[o("router-view")],1)]),n._v(" "),o("div",{staticClass:"layout-copy"},[n._v("\n                2016-2017 © KylinData © dongyang\n            ")])])],1)],1)},staticRenderFns:[]}},32:function(n,e,o){"use strict";var i=o(2),t=o(103);i.default.use(t.a);var r=function(){return o.e(0).then(o.bind(null,110))},a=function(){return o.e(1).then(o.bind(null,111))},u=function(){return o.e(2).then(o.bind(null,109))},l=[{path:"/kylin",name:"kylinReport",component:r},{path:"/login",name:"login",component:a},{path:"/kylinConfig",name:"kylinConfig",component:u}],s=new t.a({routes:l});e.a=s},33:function(n,e,o){"use strict";var i=o(2),t=o(105),r=o(72),a=o(75),u=o(76),l=o(74),s=o(73);i.default.use(t.a);var f=new t.a.Store({modules:{common:r.a,queryForm:a.a,showInfo:u.a,loginInfo:l.a,kylinConfig:s.a}});window.store=f,e.a=f},35:function(n,e){},36:function(n,e){},39:function(n,e,o){function i(n){o(101)}var t=o(47)(o(77),o(102),i,"data-v-b3e0a67c",null);n.exports=t.exports},6:function(n,e,o){"use strict";o.d(e,"l",function(){return i}),o.d(e,"n",function(){return t}),o.d(e,"o",function(){return r}),o.d(e,"p",function(){return a}),o.d(e,"q",function(){return u}),o.d(e,"r",function(){return l}),o.d(e,"s",function(){return s}),o.d(e,"m",function(){return f}),o.d(e,"u",function(){return m}),o.d(e,"t",function(){return c}),o.d(e,"j",function(){return y}),o.d(e,"k",function(){return d}),o.d(e,"b",function(){return g}),o.d(e,"c",function(){return I}),o.d(e,"d",function(){return k}),o.d(e,"e",function(){return C}),o.d(e,"a",function(){return p}),o.d(e,"f",function(){return _}),o.d(e,"g",function(){return b}),o.d(e,"h",function(){return h}),o.d(e,"i",function(){return T}),o.d(e,"v",function(){return L});var i="INIT_KYLIN_INFO",t="LOAD_INIT_INFO",r="SET_PAGE_QUERY_INFO_BY_SELECT_CUBE",a="SET_QUERY_INFO_BY_USER_OPERATE",u="QUERY_BUTTON_CONTROL",l="GENERATE_FILE_BUTTON_CONTROL",s="SHOW_DOWNLOAD_FILES",f="QUERY_RESULT_RENDER_TABLE",m="QUERY_LOADING_CONTROL",c="ADD_CUSTOMIZED_DEFINITION_CONDITION",y="LOGIN_AUTHENTICATION",d="LOGIN_LOGUOT",g="KYLINCONFIG_SHOW_CONFIG_INFO",I="KYLINCONFIG_EDIT_CONFIG_INFO",k="KYLINCONFIG_DELETE_CONFIG_INFO",C="KYLINCONFIG_NEW_CONFIG_INFO",p="KYLINCONFIG_SET_FORM_INFO",_="KYLINCONFIG_CLEAR_FORM",b="SELECT_PEDDING_CUBE",h="DELETE_USER_DEFINED_TERM",T="RESET_USER_DEFINED_TERM",L="QUERY_PAGEMENU_CONTROL"},71:function(n,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(34),t=o.n(i),r=o(35),a=(o.n(r),o(40)),u=(o.n(a),o(2)),l=o(38),s=o.n(l),f=o(37),m=o.n(f),c=o(36),y=(o.n(c),o(39)),d=o.n(y),g=o(32),I=o(33);u.default.config.productionTip=!1,u.default.prototype.$=s.a,u.default.use(t.a),u.default.use(m.a),g.a.beforeEach(function(n,e,o){var i=window.localStorage.getItem("loginFlag");if("login"!==n.name&&null===i)o("/login");else{if(!0===i){var t=window.localStorage.getItem("pageMenu");I.a.dispatch("common_pageMenuControl",t.split(","))}"login"!==n.name&&"false"===i?o("/login"):o()}}),new u.default({el:"#app",router:g.a,store:I.a,render:function(n){return n(d.a)}})},72:function(n,e,o){"use strict";var i,t=o(7),r=o.n(t),a=o(6),u={fullscreenLoading:!1,pageMenu:{kylinConfig:"none",kylinQuery:"none"}},l={common_showLoading:function(n,e){(0,n.commit)(a.u,e)},common_pageMenuControl:function(n,e){(0,n.commit)(a.v,e)}},s=(i={},r()(i,a.u,function(n,e){u.fullscreenLoading=e}),r()(i,a.v,function(n,e){u.pageMenu.kylinConfig="none",u.pageMenu.kylinQuery="none",e&&e.length&&e.forEach(function(n){"kylinConfig"===n?u.pageMenu.kylinConfig="block":"kylinQuery"===n&&(u.pageMenu.kylinQuery="block")})}),i);e.a={state:u,actions:l,mutations:s}},73:function(n,e,o){"use strict";var i,t=o(7),r=o.n(t),a=o(6),u={configQueryInfo:[],peddingConfigInfo:[],form:{uuid:"",projectCode:"",projectName:"",modelCode:"",modelName:"",cubeCode:"",cubeName:"",kylinPrimaryTable:{},kylinLoadMeasures:[],kylinForeignTables:[],kylinJoinInfos:[],kylinLimitInfos:[]}},l={kylinConfig_setFormInfo:function(n,e){(0,n.commit)(a.a,e)},kylinConfig_showConfigInfo:function(n,e){(0,n.commit)(a.b,e)},kylinConfig_editConfigInfo:function(n,e){(0,n.commit)(a.c,e)},kylinConfig_deleteConfigInfo:function(n,e){(0,n.commit)(a.d,e)},kylinConfig_newConfigInfo:function(n,e){(0,n.commit)(a.e,e)},kylinConfig_clearForm:function(n,e){(0,n.commit)(a.f,e)},kylinConfig_selectPeddingCube:function(n,e){(0,n.commit)(a.g,e)},kylinConfig_deleteUserDefinedTerm:function(n,e){(0,n.commit)(a.h,e)},kylinConfig_resetUserDefinedTerm:function(n){(0,n.commit)(a.i)}},s=(i={},r()(i,a.a,function(n,e){u.form.uuid="",u.form.projectCode="",u.form.projectName="",u.form.modelCode="",u.form.modelName="",u.form.cubeCode="",u.form.cubeName="",u.form.kylinPrimaryTable={},u.form.kylinLoadMeasures=[],u.form.kylinForeignTables=[],u.form.kylinJoinInfos=[],u.form.kylinLimitInfos=[],u.form.uuid=e.uuid,u.configQueryInfo.forEach(function(n){n.uuid===e.uuid&&(u.form.projectCode=n.projectCode,u.form.projectName=n.projectName,u.form.modelCode=n.modelCode,u.form.modelName=n.modelName,u.form.cubeCode=n.cubeCode,u.form.cubeName=n.cubeName,u.form.kylinPrimaryTable=n.kylinPrimaryTable,u.form.kylinLoadMeasures=n.kylinLoadMeasures,u.form.kylinForeignTables=n.kylinForeignTables,u.form.kylinJoinInfos=n.kylinJoinInfos,u.form.kylinLimitInfos=n.kylinLimitInfos)})}),r()(i,a.b,function(n,e){u.configQueryInfo=e.kylinConfigInfo}),r()(i,a.c,function(n,e){u.configQueryInfo.forEach(function(n){n.uuid===e.uuid&&(n.projectCode=e.projectCode,n.projectName=e.projectName,n.modelCode=e.modelCode,n.modelName=e.modelName,n.cubeCode=e.cubeCode,n.cubeName=e.cubeName,n.kylinPrimaryTable=e.kylinPrimaryTable,n.kylinLoadMeasures=e.kylinLoadMeasures,n.kylinForeignTables=e.kylinForeignTables,n.kylinJoinInfos=e.kylinJoinInfos,n.kylinLimitInfos=e.kylinLimitInfos)})}),r()(i,a.d,function(n,e){u.configQueryInfo=u.configQueryInfo.filter(function(n){return n.uuid!==e.uuid})}),r()(i,a.e,function(n,e){u.configQueryInfo.push(e)}),r()(i,a.f,function(n,e){!0===e.kylinPendingDataFlag?u.peddingConfigInfo=e.kylinPendingDatas:u.peddingConfigInfo=[],u.form.uuid="",u.form.projectCode="",u.form.projectName="",u.form.modelCode="",u.form.modelName="",u.form.cubeCode="",u.form.cubeName="",u.form.kylinPrimaryTable={},u.form.kylinLoadMeasures=[],u.form.kylinForeignTables=[],u.form.kylinJoinInfos=[],u.form.kylinLimitInfos=[],u.kylinLimitInfos=[]}),r()(i,a.g,function(n,e){""===e?(u.form.uuid="",u.form.projectCode="",u.form.projectName="",u.form.modelCode="",u.form.modelName="",u.form.cubeCode="",u.form.cubeName="",u.form.kylinPrimaryTable={},u.form.kylinLoadMeasures=[],u.form.kylinForeignTables=[],u.form.kylinJoinInfos=[],u.form.kylinLimitInfos=[]):u.peddingConfigInfo.forEach(function(n){n.cubeCode===e&&(u.form.uuid=n.uuid,u.form.projectCode="",u.form.projectName="",u.form.modelCode=n.modelCode,u.form.modelName="",u.form.cubeCode=n.cubeCode,u.form.cubeName="",u.form.kylinPrimaryTable=n.kylinPrimaryTable,u.form.kylinLoadMeasures=n.kylinLoadMeasures,u.form.kylinForeignTables=n.kylinForeignTables,u.form.kylinJoinInfos=n.kylinJoinInfos,u.form.kylinLimitInfos=n.kylinLimitInfos,u.kylinLimitInfos=n.kylinLimitInfos)})}),r()(i,a.h,function(n,e){u.form.kylinLimitInfos.length&&(u.form.kylinLimitInfos=u.form.kylinLimitInfos.filter(function(n){return!(n.tableCode===e.tableCode&&n.columnCode===e.columnCode)}))}),r()(i,a.i,function(){u.form.kylinLimitInfos=u.kylinLimitInfos}),i);e.a={state:u,actions:l,mutations:s}},74:function(n,e,o){"use strict";var i,t=o(7),r=o.n(t),a=o(6),u={loginInfo:{loginFlag:!1,userCode:"",password:"",errorMsg:""},pageMenu:[]},l={login_authenticationInfo:function(n,e){(0,n.commit)(a.j,e)},login_logout:function(n){(0,n.commit)(a.k)}},s=(i={},r()(i,a.j,function(n,e){u.loginInfo.loginFlag=e.loginFlag,u.loginInfo.userCode=e.userCode,u.loginInfo.errorMsg=e.errorMsg,u.pageMenu=e.pageMenu}),r()(i,a.k,function(){u.loginInfo.loginFlag=!1,u.loginInfo.userCode="",u.loginInfo.password="",u.loginInfo.errorMsg="",u.pageMenu=[]}),i);e.a={state:u,actions:l,mutations:s}},75:function(n,e,o){"use strict";var i,t=o(7),r=o.n(t),a=o(6),u={initInfo:{cascadeSelect:[],loadInfo:[],measures:[],dimensions:[],dimensionsMore:[],kylinLimitInfos:[]},query:{project:"",model:"",cube:"",primaryTable:"",foreignTables:[],joinInfos:[],dimensions:[],measures:[],date:[],limits:[],acceptPartial:"false",offset:"0",limit:"100",kylinPrimaryTable:{},kylinLoadMeasures:[],kylinForeignTables:[]},progressBar:0,queryButtonControl:!0,generateFileButtonControl:!0,generateExcelFiles:[]},l={queryForm_initKylinQueryInfo:function(n){(0,n.commit)(a.l)},queryForm_initLoadInfo:function(n,e){(0,n.commit)(a.n,e)},queryForm_setPageQueryInfoBySelectCube:function(n,e){(0,n.commit)(a.o,e)},queryForm_setPageQueryInfoByUserOperate:function(n,e){(0,n.commit)(a.p,e)},queryForm_queryButtonControl:function(n,e){(0,n.commit)(a.q,e)},queryForm_generateFileButtonControl:function(n,e){(0,n.commit)(a.r,e)},queryForm_showDownloadFiles:function(n,e){(0,n.commit)(a.s,e)},queryForm_addCustomizedDefinitionCondition:function(n,e){(0,n.commit)(a.t,e)}},s=(i={},r()(i,a.l,function(){u.query.project="",u.query.model="",u.query.cube="",u.query.primaryTable="",u.query.foreignTables=[],u.query.joinInfos=[],u.query.dimensions=[],u.query.measures=[],u.query.date=[],u.query.limits=[],u.query.acceptPartial="false",u.query.offset="0",u.query.limit="100",u.query.kylinPrimaryTable={},u.query.kylinLoadMeasures=[],u.query.kylinForeignTables=[],u.progressBar=0,u.queryButtonControl=!0,u.generateFileButtonControl=!0,u.generateExcelFiles=[]}),r()(i,a.n,function(n,e){e.kylinLoadSelectData&&e.kylinLoadSelectData.length?u.initInfo.cascadeSelect=e.kylinLoadSelectData:u.initInfo.cascadeSelect=[],e.kylinLoadDatas?u.initInfo.loadInfo=e.kylinLoadDatas:u.initInfo.loadInfo=[]}),r()(i,a.o,function(n,e){var o=u.initInfo.loadInfo.find(function(n){return n.projectCode===e[0]}),i=o.kylinLoadModels.find(function(n){return n.modelCode===e[1]}),t=i.kylinLoadCubes.find(function(n){return n.cubeCode===e[2]});if(u.initInfo.measures=t.kylinLoadMeasures,u.initInfo.dimensions=[],u.initInfo.dimensionsMore=[],t.kylinPrimaryTable.dimensionColumnInfos.length<6)u.initInfo.dimensions=t.kylinPrimaryTable.dimensionColumnInfos;else{var r=t.kylinPrimaryTable.dimensionColumnInfos.length;u.initInfo.dimensions=t.kylinPrimaryTable.dimensionColumnInfos.slice(0,6),u.initInfo.dimensionsMore=t.kylinPrimaryTable.dimensionColumnInfos.slice(6,r)}u.initInfo.kylinLimitInfos=t.kylinLimitInfos,u.query.project=e[0],u.query.model=e[1],u.query.cube=e[2],u.query.primaryTable=t.kylinPrimaryTable.tableCode,u.query.foreignTables=t.kylinForeignTables,u.query.joinInfos=t.kylinJoinInfos,u.query.kylinPrimaryTable=t.kylinPrimaryTable,u.query.kylinLoadMeasures=t.kylinLoadMeasures,u.query.kylinForeignTables=t.kylinForeignTables,u.progressBar=1,u.queryButtonControl=!0,u.generateFileButtonControl=!0}),r()(i,a.p,function(n,e){u.query.measures=e.measures,u.query.dimensions=e.dimensions,u.query.date=e.date,(u.query.dimensions.length||u.query.measures.length)&&u.query.date[1]?u.progressBar=3:!u.query.dimensions.length&&!u.query.measures.length||u.query.date[1]?(u.query.dimensions.length||u.query.measures.length||u.query.date[1],u.progressBar=1):u.progressBar=2}),r()(i,a.q,function(n,e){u.queryButtonControl=e,u.generateFileButtonControl=e}),r()(i,a.r,function(n,e){u.generateFileButtonControl=e}),r()(i,a.s,function(n,e){u.generateExcelFiles=e}),r()(i,a.t,function(n,e){e.length?(u.query.limits=[],e.forEach(function(n){u.query.limits.push({code:n.code,value:n.value})})):u.query.limits=[]}),i);e.a={state:u,actions:l,mutations:s}},76:function(n,e,o){"use strict";var i,t=o(7),r=o.n(t),a=o(6),u={showInfo:{cloumnInfos:[],results:[]}},l={queryForm_initKylinShowInfo:function(n){(0,n.commit)(a.l)},showInfo_renderTable:function(n,e){(0,n.commit)(a.m,e)}},s=(i={},r()(i,a.l,function(){u.showInfo.cloumnInfos=[],u.showInfo.results=[]}),r()(i,a.m,function(n,e){u.showInfo.cloumnInfos=[],u.showInfo.results=[],u.showInfo.cloumnInfos=e.returnData.tableHead,u.showInfo.results=e.returnData.tableBody}),i);e.a={state:u,actions:l,mutations:s}},77:function(n,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{spanLeft:1,spanRight:23,breadcrumbTip:"kylin"}},computed:{iconSize:function(){return 3===this.spanLeft?16:24},pageMenu:function(){return this.$store.state.common.pageMenu}},methods:{logout:function(){var n=this;this.$confirm("确认登出, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){window.localStorage.setItem("loginFlag",!1),window.localStorage.setItem("userCode",""),window.localStorage.setItem("pageMenu",""),n.$store.dispatch("common_pageMenuControl",[]),n.$store.dispatch("login_logout"),n.$router.push({path:"/login"}),n.$message({type:"success",message:"登出成功!"})}).catch(function(){n.$message({type:"info",message:"操作已取消!"})})},gotoNavigation:function(n){"1"===n?(this.$store.dispatch("queryForm_initKylinQueryInfo"),this.$store.dispatch("queryForm_initKylinShowInfo"),this.breadcrumbTip="kylin",this.$router.push({path:"kylin"})):"2"===n&&(this.breadcrumbTip="kylinConfig",this.$router.push({path:"/kylinConfig"}))},toggleClick:function(){3===this.spanLeft?(this.spanLeft=1,this.spanRight=23):(this.spanLeft=3,this.spanRight=21)}}}}},[71]);
//# sourceMappingURL=app.4f48b1fdba5306b7a28e.js.map