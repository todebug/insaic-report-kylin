webpackJsonp([4],{101:function(n,o){},102:function(n,o){n.exports={render:function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("div",{staticClass:"layout",class:{"layout-hide-text":n.spanLeft<3}},[e("Row",{attrs:{type:"flex"}},[e("Col",{staticClass:"layout-menu-left",attrs:{span:n.spanLeft}},[e("Menu",{attrs:{"active-name":"1",theme:"light",width:"auto"},on:{"on-select":n.gotoNavigation}},[e("div",{staticClass:"layout-logo-left"}),n._v(" "),e("MenuItem",{style:{display:n.pageMenu.kylinQuery},attrs:{name:"1"}},[e("Icon",{attrs:{type:"ios-navigate",size:n.iconSize}}),n._v(" "),e("span",{staticClass:"layout-text"},[n._v("报表查询")])],1),n._v(" "),e("MenuItem",{style:{display:n.pageMenu.kylinConfig},attrs:{name:"2"}},[e("Icon",{attrs:{type:"ios-analytics",size:n.iconSize}}),n._v(" "),e("span",{staticClass:"layout-text"},[n._v("报表配置")])],1)],1)],1),n._v(" "),e("Col",{attrs:{span:n.spanRight}},[e("div",{staticClass:"layout-header"},[e("Button",{attrs:{type:"text"},on:{click:n.toggleClick}},[e("Icon",{attrs:{type:"navicon",size:"32"}})],1),n._v(" "),e("div",{staticClass:"logout",on:{click:n.logout}},[e("span",[n._v("登出")])])],1),n._v(" "),e("div",{staticClass:"layout-breadcrumb"},[e("Breadcrumb",[e("BreadcrumbItem",{attrs:{href:"/"}},[n._v("首页")]),n._v(" "),"kylin"===n.breadcrumbTip?e("span",[e("BreadcrumbItem",{attrs:{href:"kylin"}},[n._v("报表查询")])],1):n._e(),n._v(" "),"kylinConfig"===n.breadcrumbTip?e("span",[e("BreadcrumbItem",{attrs:{href:"kylinConfig"}},[n._v("报表配置")])],1):n._e()],1)],1),n._v(" "),e("div",{staticClass:"layout-content"},[e("div",{staticClass:"layout-content-main",attrs:{id:"app"}},[e("router-view")],1)]),n._v(" "),e("div",{staticClass:"layout-copy"},[n._v("\n                2016-2017 © KylinData © dongyang\n            ")])])],1)],1)},staticRenderFns:[]}},32:function(n,o,e){"use strict";var i=e(2),t=e(103);i.default.use(t.a);var r=function(){return e.e(0).then(e.bind(null,110))},a=function(){return e.e(1).then(e.bind(null,111))},u=function(){return e.e(2).then(e.bind(null,109))},l=[{path:"/kylin",name:"kylinReport",component:r},{path:"/login",name:"login",component:a},{path:"/kylinConfig",name:"kylinConfig",component:u}],s=new t.a({routes:l});o.a=s},33:function(n,o,e){"use strict";var i=e(2),t=e(105),r=e(72),a=e(75),u=e(76),l=e(74),s=e(73);i.default.use(t.a);var f=new t.a.Store({modules:{common:r.a,queryForm:a.a,showInfo:u.a,loginInfo:l.a,kylinConfig:s.a}});window.store=f,o.a=f},35:function(n,o){},36:function(n,o){},39:function(n,o,e){function i(n){e(101)}var t=e(47)(e(77),e(102),i,"data-v-b3e0a67c",null);n.exports=t.exports},6:function(n,o,e){"use strict";e.d(o,"l",function(){return i}),e.d(o,"n",function(){return t}),e.d(o,"o",function(){return r}),e.d(o,"p",function(){return a}),e.d(o,"q",function(){return u}),e.d(o,"r",function(){return l}),e.d(o,"s",function(){return s}),e.d(o,"m",function(){return f}),e.d(o,"u",function(){return m}),e.d(o,"t",function(){return c}),e.d(o,"j",function(){return y}),e.d(o,"k",function(){return d}),e.d(o,"b",function(){return g}),e.d(o,"c",function(){return I}),e.d(o,"d",function(){return k}),e.d(o,"e",function(){return p}),e.d(o,"a",function(){return C}),e.d(o,"f",function(){return _}),e.d(o,"g",function(){return b}),e.d(o,"h",function(){return h}),e.d(o,"i",function(){return L}),e.d(o,"v",function(){return T});var i="INIT_KYLIN_INFO",t="LOAD_INIT_INFO",r="SET_PAGE_QUERY_INFO_BY_SELECT_CUBE",a="SET_QUERY_INFO_BY_USER_OPERATE",u="QUERY_BUTTON_CONTROL",l="GENERATE_FILE_BUTTON_CONTROL",s="SHOW_DOWNLOAD_FILES",f="QUERY_RESULT_RENDER_TABLE",m="QUERY_LOADING_CONTROL",c="ADD_CUSTOMIZED_DEFINITION_CONDITION",y="LOGIN_AUTHENTICATION",d="LOGIN_LOGUOT",g="KYLINCONFIG_SHOW_CONFIG_INFO",I="KYLINCONFIG_EDIT_CONFIG_INFO",k="KYLINCONFIG_DELETE_CONFIG_INFO",p="KYLINCONFIG_NEW_CONFIG_INFO",C="KYLINCONFIG_SET_FORM_INFO",_="KYLINCONFIG_CLEAR_FORM",b="SELECT_PEDDING_CUBE",h="DELETE_USER_DEFINED_TERM",L="RESET_USER_DEFINED_TERM",T="QUERY_PAGEMENU_CONTROL"},71:function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e(34),t=e.n(i),r=e(35),a=(e.n(r),e(40)),u=(e.n(a),e(2)),l=e(38),s=e.n(l),f=e(37),m=e.n(f),c=e(36),y=(e.n(c),e(39)),d=e.n(y),g=e(32),I=e(33);u.default.config.productionTip=!1,u.default.prototype.$=s.a,u.default.use(t.a),u.default.use(m.a),g.a.beforeEach(function(n,o,e){var i=window.localStorage.getItem("loginFlag");if("login"===n.name||null!==i&&!1!==i&&"false"!==i){if(!0===i||"true"===i){var t=window.localStorage.getItem("pageMenu");I.a.dispatch("common_pageMenuControl",t.split(","))}"login"===n.name||"false"!==i&&!1!==i?e():e("/login")}else e("/login")}),new u.default({el:"#app",router:g.a,store:I.a,render:function(n){return n(d.a)}})},72:function(n,o,e){"use strict";var i,t=e(7),r=e.n(t),a=e(6),u={fullscreenLoading:!1,pageMenu:{kylinConfig:"none",kylinQuery:"none"}},l={common_showLoading:function(n,o){(0,n.commit)(a.u,o)},common_pageMenuControl:function(n,o){(0,n.commit)(a.v,o)}},s=(i={},r()(i,a.u,function(n,o){u.fullscreenLoading=o}),r()(i,a.v,function(n,o){u.pageMenu.kylinConfig="none",u.pageMenu.kylinQuery="none",o&&o.length&&o.forEach(function(n){"kylinConfig"===n?u.pageMenu.kylinConfig="block":"kylinQuery"===n&&(u.pageMenu.kylinQuery="block")})}),i);o.a={state:u,actions:l,mutations:s}},73:function(n,o,e){"use strict";var i,t=e(7),r=e.n(t),a=e(6),u={configQueryInfo:[],peddingConfigInfo:[],kylinLimitInfos:[],form:{uuid:"",projectCode:"",projectName:"",modelCode:"",modelName:"",cubeCode:"",cubeName:"",kylinPrimaryTable:{},kylinLoadMeasures:[],kylinForeignTables:[],kylinJoinInfos:[],kylinLimitInfos:[]}},l={kylinConfig_setFormInfo:function(n,o){(0,n.commit)(a.a,o)},kylinConfig_showConfigInfo:function(n,o){(0,n.commit)(a.b,o)},kylinConfig_editConfigInfo:function(n,o){(0,n.commit)(a.c,o)},kylinConfig_deleteConfigInfo:function(n,o){(0,n.commit)(a.d,o)},kylinConfig_newConfigInfo:function(n,o){(0,n.commit)(a.e,o)},kylinConfig_clearForm:function(n,o){(0,n.commit)(a.f,o)},kylinConfig_selectPeddingCube:function(n,o){(0,n.commit)(a.g,o)},kylinConfig_deleteUserDefinedTerm:function(n,o){(0,n.commit)(a.h,o)},kylinConfig_resetUserDefinedTerm:function(n){(0,n.commit)(a.i)}},s=(i={},r()(i,a.a,function(n,o){u.form.uuid="",u.form.projectCode="",u.form.projectName="",u.form.modelCode="",u.form.modelName="",u.form.cubeCode="",u.form.cubeName="",u.form.kylinPrimaryTable={},u.form.kylinLoadMeasures=[],u.form.kylinForeignTables=[],u.form.kylinJoinInfos=[],u.form.kylinLimitInfos=[],u.form.uuid=o.uuid,u.configQueryInfo.forEach(function(n){n.uuid===o.uuid&&(u.form.projectCode=n.projectCode,u.form.projectName=n.projectName,u.form.modelCode=n.modelCode,u.form.modelName=n.modelName,u.form.cubeCode=n.cubeCode,u.form.cubeName=n.cubeName,u.form.kylinPrimaryTable=n.kylinPrimaryTable,u.form.kylinLoadMeasures=n.kylinLoadMeasures,u.form.kylinForeignTables=n.kylinForeignTables,u.form.kylinJoinInfos=n.kylinJoinInfos,u.form.kylinLimitInfos=n.kylinLimitInfos,u.kylinLimitInfos=[],u.kylinLimitInfos=n.kylinLimitInfos)})}),r()(i,a.b,function(n,o){u.configQueryInfo=o.kylinConfigInfo}),r()(i,a.c,function(n,o){u.configQueryInfo.forEach(function(n){n.uuid===o.uuid&&(n.projectCode=o.projectCode,n.projectName=o.projectName,n.modelCode=o.modelCode,n.modelName=o.modelName,n.cubeCode=o.cubeCode,n.cubeName=o.cubeName,n.kylinPrimaryTable=o.kylinPrimaryTable,n.kylinLoadMeasures=o.kylinLoadMeasures,n.kylinForeignTables=o.kylinForeignTables,n.kylinJoinInfos=o.kylinJoinInfos,n.kylinLimitInfos=o.kylinLimitInfos)})}),r()(i,a.d,function(n,o){u.configQueryInfo=u.configQueryInfo.filter(function(n){return n.uuid!==o.uuid})}),r()(i,a.e,function(n,o){u.configQueryInfo.push(o)}),r()(i,a.f,function(n,o){!0===o.kylinPendingDataFlag?u.peddingConfigInfo=o.kylinPendingDatas:u.peddingConfigInfo=[],u.form.uuid="",u.form.projectCode="",u.form.projectName="",u.form.modelCode="",u.form.modelName="",u.form.cubeCode="",u.form.cubeName="",u.form.kylinPrimaryTable={},u.form.kylinLoadMeasures=[],u.form.kylinForeignTables=[],u.form.kylinJoinInfos=[],u.form.kylinLimitInfos=[],u.kylinLimitInfos=[]}),r()(i,a.g,function(n,o){""===o?(u.form.uuid="",u.form.projectCode="",u.form.projectName="",u.form.modelCode="",u.form.modelName="",u.form.cubeCode="",u.form.cubeName="",u.form.kylinPrimaryTable={},u.form.kylinLoadMeasures=[],u.form.kylinForeignTables=[],u.form.kylinJoinInfos=[],u.form.kylinLimitInfos=[]):u.peddingConfigInfo.forEach(function(n){n.cubeCode===o&&(u.form.uuid=n.uuid,u.form.projectCode="",u.form.projectName="",u.form.modelCode=n.modelCode,u.form.modelName="",u.form.cubeCode=n.cubeCode,u.form.cubeName="",u.form.kylinPrimaryTable=n.kylinPrimaryTable,u.form.kylinLoadMeasures=n.kylinLoadMeasures,u.form.kylinForeignTables=n.kylinForeignTables,u.form.kylinJoinInfos=n.kylinJoinInfos,u.form.kylinLimitInfos=n.kylinLimitInfos,u.kylinLimitInfos=[],u.kylinLimitInfos=n.kylinLimitInfos)})}),r()(i,a.h,function(n,o){u.form.kylinLimitInfos.length&&(u.form.kylinLimitInfos=u.form.kylinLimitInfos.filter(function(n){return!(n.tableCode===o.tableCode&&n.columnCode===o.columnCode)}))}),r()(i,a.i,function(){u.form.kylinLimitInfos=u.kylinLimitInfos}),i);o.a={state:u,actions:l,mutations:s}},74:function(n,o,e){"use strict";var i,t=e(7),r=e.n(t),a=e(6),u={loginInfo:{loginFlag:!1,userCode:"",password:"",errorMsg:""},pageMenu:[]},l={login_authenticationInfo:function(n,o){(0,n.commit)(a.j,o)},login_logout:function(n){(0,n.commit)(a.k)}},s=(i={},r()(i,a.j,function(n,o){u.loginInfo.loginFlag=o.loginFlag,u.loginInfo.userCode=o.userCode,u.loginInfo.errorMsg=o.errorMsg,u.pageMenu=o.pageMenu}),r()(i,a.k,function(){u.loginInfo.loginFlag=!1,u.loginInfo.userCode="",u.loginInfo.password="",u.loginInfo.errorMsg="",u.pageMenu=[]}),i);o.a={state:u,actions:l,mutations:s}},75:function(n,o,e){"use strict";var i,t=e(7),r=e.n(t),a=e(6),u={initInfo:{cascadeSelect:[],loadInfo:[],measures:[],dimensions:[],dimensionsMore:[],kylinLimitInfos:[]},query:{project:"",model:"",cube:"",primaryTable:"",foreignTables:[],joinInfos:[],dimensions:[],measures:[],date:[],limits:[],acceptPartial:"false",offset:"0",limit:"100",kylinPrimaryTable:{},kylinLoadMeasures:[],kylinForeignTables:[]},progressBar:0,queryButtonControl:!0,generateFileButtonControl:!0,generateExcelFiles:[]},l={queryForm_initKylinQueryInfo:function(n){(0,n.commit)(a.l)},queryForm_initLoadInfo:function(n,o){(0,n.commit)(a.n,o)},queryForm_setPageQueryInfoBySelectCube:function(n,o){(0,n.commit)(a.o,o)},queryForm_setPageQueryInfoByUserOperate:function(n,o){(0,n.commit)(a.p,o)},queryForm_queryButtonControl:function(n,o){(0,n.commit)(a.q,o)},queryForm_generateFileButtonControl:function(n,o){(0,n.commit)(a.r,o)},queryForm_showDownloadFiles:function(n,o){(0,n.commit)(a.s,o)},queryForm_addCustomizedDefinitionCondition:function(n,o){(0,n.commit)(a.t,o)}},s=(i={},r()(i,a.l,function(){u.query.project="",u.query.model="",u.query.cube="",u.query.primaryTable="",u.query.foreignTables=[],u.query.joinInfos=[],u.query.dimensions=[],u.query.measures=[],u.query.date=[],u.query.limits=[],u.query.acceptPartial="false",u.query.offset="0",u.query.limit="100",u.query.kylinPrimaryTable={},u.query.kylinLoadMeasures=[],u.query.kylinForeignTables=[],u.progressBar=0,u.queryButtonControl=!0,u.generateFileButtonControl=!0,u.generateExcelFiles=[]}),r()(i,a.n,function(n,o){o.kylinLoadSelectData&&o.kylinLoadSelectData.length?u.initInfo.cascadeSelect=o.kylinLoadSelectData:u.initInfo.cascadeSelect=[],o.kylinLoadDatas?u.initInfo.loadInfo=o.kylinLoadDatas:u.initInfo.loadInfo=[]}),r()(i,a.o,function(n,o){var e={},i=[],t=[];if(u.initInfo.loadInfo.forEach(function(n){n.projectCode===o[0]&&i.push(n)}),i.forEach(function(n){n.kylinLoadModels.forEach(function(n){n.modelCode===o[1]&&t.push(n)})}),t.forEach(function(n){n.kylinLoadCubes.forEach(function(n){n.cubeCode===o[2]&&(e=n)})}),u.initInfo.measures=e.kylinLoadMeasures,u.initInfo.dimensions=[],u.initInfo.dimensionsMore=[],e.kylinPrimaryTable.dimensionColumnInfos.length<6)u.initInfo.dimensions=e.kylinPrimaryTable.dimensionColumnInfos;else{var r=e.kylinPrimaryTable.dimensionColumnInfos.length;u.initInfo.dimensions=e.kylinPrimaryTable.dimensionColumnInfos.slice(0,6),u.initInfo.dimensionsMore=e.kylinPrimaryTable.dimensionColumnInfos.slice(6,r)}u.initInfo.kylinLimitInfos=e.kylinLimitInfos,u.query.project=o[0],u.query.model=o[1],u.query.cube=o[2],u.query.primaryTable=e.kylinPrimaryTable.tableCode,u.query.foreignTables=e.kylinForeignTables,u.query.joinInfos=e.kylinJoinInfos,u.query.kylinPrimaryTable=e.kylinPrimaryTable,u.query.kylinLoadMeasures=e.kylinLoadMeasures,u.query.kylinForeignTables=e.kylinForeignTables,u.progressBar=1,u.queryButtonControl=!0,u.generateFileButtonControl=!0}),r()(i,a.p,function(n,o){u.query.measures=o.measures,u.query.dimensions=o.dimensions,u.query.date=o.date,(u.query.dimensions.length||u.query.measures.length)&&u.query.date[1]?u.progressBar=3:!u.query.dimensions.length&&!u.query.measures.length||u.query.date[1]?(u.query.dimensions.length||u.query.measures.length||u.query.date[1],u.progressBar=1):u.progressBar=2}),r()(i,a.q,function(n,o){u.queryButtonControl=o,u.generateFileButtonControl=o}),r()(i,a.r,function(n,o){u.generateFileButtonControl=o}),r()(i,a.s,function(n,o){u.generateExcelFiles=o}),r()(i,a.t,function(n,o){o.length?(u.query.limits=[],o.forEach(function(n){u.query.limits.push({code:n.code,value:n.value})})):u.query.limits=[]}),i);o.a={state:u,actions:l,mutations:s}},76:function(n,o,e){"use strict";var i,t=e(7),r=e.n(t),a=e(6),u={showInfo:{cloumnInfos:[],results:[]}},l={queryForm_initKylinShowInfo:function(n){(0,n.commit)(a.l)},showInfo_renderTable:function(n,o){(0,n.commit)(a.m,o)}},s=(i={},r()(i,a.l,function(){u.showInfo.cloumnInfos=[],u.showInfo.results=[]}),r()(i,a.m,function(n,o){u.showInfo.cloumnInfos=[],u.showInfo.results=[],u.showInfo.cloumnInfos=o.returnData.tableHead,u.showInfo.results=o.returnData.tableBody}),i);o.a={state:u,actions:l,mutations:s}},77:function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={data:function(){return{spanLeft:1,spanRight:23,breadcrumbTip:"kylin"}},computed:{iconSize:function(){return 3===this.spanLeft?16:24},pageMenu:function(){return this.$store.state.common.pageMenu}},methods:{logout:function(){var n=this;this.$confirm("确认登出, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){window.localStorage.setItem("loginFlag",!1),window.localStorage.setItem("userCode",""),window.localStorage.setItem("pageMenu",""),n.$store.dispatch("common_pageMenuControl",[]),n.$store.dispatch("login_logout"),n.$router.push({path:"/login"}),n.$message({type:"success",message:"登出成功!"})}).catch(function(){n.$message({type:"info",message:"操作已取消!"})})},gotoNavigation:function(n){"1"===n?(this.$store.dispatch("queryForm_initKylinQueryInfo"),this.$store.dispatch("queryForm_initKylinShowInfo"),this.breadcrumbTip="kylin",this.$router.push({path:"kylin"})):"2"===n&&(this.breadcrumbTip="kylinConfig",this.$router.push({path:"/kylinConfig"}))},toggleClick:function(){3===this.spanLeft?(this.spanLeft=1,this.spanRight=23):(this.spanLeft=3,this.spanRight=21)}}}}},[71]);
//# sourceMappingURL=app.ad15b0c48fcb1304bdbc.js.map